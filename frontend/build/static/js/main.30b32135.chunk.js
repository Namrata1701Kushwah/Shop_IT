(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{225:function(e,t,c){},255:function(e,t,c){"use strict";c.r(t);var a=c(4),r=c(2),s=c(21),n=c.n(s),l=c(8),i=c(14),o=c(7),d=c(11),j=c(20),u=c(100),b=c(1),m=function(e){var t=e.title;return Object(b.jsx)(u.a,{children:Object(b.jsx)("title",{children:"".concat(t,"-ShopIT")})})},p=function(e){var t=e.product,c=e.col;return Object(b.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(b.jsxs)("div",{className:"card p-3 rounded",children:[Object(b.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url}),Object(b.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(b.jsx)("h5",{className:"card-title",children:Object(b.jsx)(d.b,{to:"/product/".concat(t._id),children:t.name})}),Object(b.jsxs)("div",{className:"ratings mt-auto",children:[Object(b.jsxs)("div",{className:"rating-outer",children:[console.log("abc",null===t||void 0===t?void 0:t.ratings),Object(b.jsx)("div",{className:"rating-inner",style:{width:"".concat((null===t||void 0===t?void 0:t.ratings)/5*100,"%")}})]}),Object(b.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),Object(b.jsxs)("p",{className:"card-text",children:["$",t.price]}),Object(b.jsx)(d.b,{to:"/product/".concat(t._id," "),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},O=c(104),h=c.n(O),x=c(6),f=c(16),v=c.n(f),g="ADMIN_PRODUCTS_REQUEST",y="ADMIN_PRODUCTS_SUCCESS",N="ADMIN_PRODUCTS_FAIL",E="NEW_REVIEW_REQUEST",S="NEW_REVIEW_SUCCESS",_="NEW_REVIEW_RESET",w="NEW_REVIEW_FAIL",C="DELETE_REVIEW_REQUEST",R="DELETE_REVIEW_SUCCESS",D="DELETE_REVIEW_RESET",A="DELETE_REVIEW_FAIL",P="GET_REVIEWS_REQUEST",I="GET_REVIEWS_SUCCESS",F="GET_REVIEWS_FAIL",T="DELETE_PRODUCT_REQUEST",U="DELETE_PRODUCT_SUCCESS",k="DELETE_PRODUCT_RESET",L="DELETE_PRODUCT_FAIL",W="UPDATE_PRODUCT_REQUEST",Q="UPDATE_PRODUCT_SUCCESS",H="UPDATE_PRODUCT_RESET",V="NEW_REVIEW_FAIL",q="ALL_PRODUCTS_REQUEST",M="ALL_PRODUCTS_SUCCESS",$="ALL_PRODUCTS_FAIL",G="PRODUCT_DETAILS_REQUEST",B="PRODUCT_DETAILS_SUCCESS",J="PRODUCT_DETAILS_FAIL",Y="NEW_PRODUCT_REQUEST",z="NEW_PRODUCT_SUCCESS",K="NEW_PRODUCT_RESET",X="NEW_REVIEW_FAIL",Z="CLEAR_ERRORS",ee=function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:G}),t.next=4,v.a.get("/api/v1/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:B,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:J,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},te=function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:P}),t.next=4,v.a.get("/api/v1/reviews?id=".concat(e));case 4:a=t.sent,r=a.data,c({type:I,payload:r.reviews}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),c({type:F,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ce=function(){return function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,v.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,console.log("HHHHHHHHHHHHHH",a),t({type:y,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:N,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ae=function(){return function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Z});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=c(13),se=c(69),ne=(c(224),(0,se.a.createSliderWithTooltip)(se.a.Range)),le=function(e){var t,c=e.match,a=Object(r.useState)(1),s=Object(o.a)(a,2),n=s[0],d=s[1],j=Object(r.useState)([1,1e3]),u=Object(o.a)(j,2),O=u[0],f=u[1],g=Object(r.useState)(""),y=Object(o.a)(g,2),N=y[0],E=y[1],S=Object(r.useState)(0),_=Object(o.a)(S,2),w=_[0],C=_[1];console.log("999999999999999999999999",N);var R=["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"],D=Object(re.d)(),A=Object(x.b)(),P=Object(x.c)((function(e){return e.products})),I=P.loading,F=P.products,T=P.error,U=P.resPerPage,k=P.productsCount,L=P.filteredProductsCount,W=c.params.keyword;Object(r.useEffect)((function(){if(T)return D.error(T);A(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var s=Object(i.a)(Object(l.a)().mark((function s(n){var i,o,d;return Object(l.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n({type:q}),i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(r),a&&(i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a,"&ratings[gte]=").concat(r)),s.next=6,v.a.get(i);case 6:o=s.sent,d=o.data,n({type:M,payload:d}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),n({type:$,payload:s.t0.response.data.message});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()}(W,n,O,N,w)),console.log("3444444444444444",O)}),[A,D,T,n,W,O,N,w]);var Q=k;return W&&(Q=L),Object(b.jsxs)(r.Fragment,{children:[" ",I?Object(b.jsx)("h1",{children:"Loading..."}):Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Buy Best Products Online"}),Object(b.jsx)("h1",{id:"products_heading",children:"Latest Products"}),Object(b.jsx)("section",{id:"products",className:"container mt-5",children:Object(b.jsx)("div",{className:"row",children:W?Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(b.jsxs)("div",{className:"px-5",children:[Object(b.jsx)(ne,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:O,onChange:function(e){return f(e)}}),Object(b.jsx)("hr",{className:"my-3"}),Object(b.jsxs)("div",{className:"mt-5",children:[Object(b.jsx)("h4",{className:"mb-3",children:"categories"}),Object(b.jsx)("ul",{className:"pl-0",children:null===R||void 0===R?void 0:R.map((function(e){return Object(b.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return E(e)},children:e},e)}))})]}),Object(b.jsx)("hr",{className:"my-5"}),Object(b.jsxs)("div",{className:"mt-5",children:[Object(b.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(b.jsx)("ul",{className:"pl-0",children:null===(t=[5,4,3,2,1])||void 0===t?void 0:t.map((function(e){return Object(b.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return C(e)},children:Object(b.jsx)("div",{className:"rating-outer",children:Object(b.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(b.jsx)("div",{className:"col-6 col-md-9",children:Object(b.jsx)("div",{className:"row",children:null===F||void 0===F?void 0:F.map((function(e){return Object(b.jsx)(p,{product:e,col:4},null===e||void 0===e?void 0:e._id)}))})})]}):null===F||void 0===F?void 0:F.map((function(e){return Object(b.jsx)(p,{product:e},null===e||void 0===e?void 0:e._id)}))})}),U<=Q&&Object(b.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(b.jsx)(h.a,{activePage:n,itemsCountPerPage:U,totalItemsCount:k,onChange:function(e){d(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})]})},ie=function(){return Object(b.jsx)(r.Fragment,{children:Object(b.jsx)("footer",{className:"py-1",children:Object(b.jsx)("p",{className:"text-center mt-1",children:"Shopping Cart - 2022-2023, All Rights Reserved"})})})},oe=(c(225),function(e){var t=e.history,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],n=a[1];return Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim()?t.push("/search/".concat(s)):t.push("/")},children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return n(e.target.value)}}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{id:"search_btn",className:"btn",children:Object(b.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})}),de="LOGIN_REQUEST",je="LOGIN_SUCCESS",ue="LOGIN_FAIL",be="REGISTER_USER_REQUEST",me="REGISTER_USER_SUCCESS",pe="REGISTER_USER_FAIL",Oe="LOAD_USER_REQUEST",he="LOAD_USER_SUCCESS",xe="LOAD_USER_FAIL",fe="UPDATE_PROFILE_REQUEST",ve="UPDATE_PROFILE_SUCCESS",ge="UPDATE_PROFILE_RESET",ye="UPDATE_PROFILE_FAIL",Ne="UPDATE_PASSWORD_REQUEST",Ee="UPDATE_PASSWORD_SUCCESS",Se="UPDATE_PASSWORD_RESET",_e="UPDATE_PASSWORD_FAIL",we="UPDATE_USER_REQUEST",Ce="UPDATE_USER_SUCCESS",Re="UPDATE_USER_RESET",De="UPDATE_USER_FAIL",Ae="DELETE_USER_REQUEST",Pe="DELETE_USER_SUCCESS",Ie="DELETE_USER_RESET",Fe="DELETE_USER_FAIL",Te="FORGOT_PASSWORD_REQUEST",Ue=" FORGOT_PASSWORD_SUCCESS",ke="FORGOT_PASSWORD_FAIL",Le="NEW_PASSWORD_REQUEST",We=" NEW_PASSWORD_SUCCESS",Qe="NEW_PASSWORD_FAIL",He="USER_DETAILS_REQUEST",Ve="USER_DETAILS_SUCCESS",qe="USER_DETAILS_FAIL",Me="ALL_USERS_REQUEST",$e="ALL_USERS_SUCCESS",Ge="ALL_USERS_FAIL",Be="LOGOUT_SUCCESS",Je="LOGOUT_FAIL",Ye="CLEAR_ERRORS",ze=function(){return function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){var c,a,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe}),e.next=4,v.a.get("/api/v1/me");case 4:c=e.sent,a=c.data,t({type:he,payload:a.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:xe,payload:null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Ke=function(){return function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){var c,a,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Me}),e.next=4,v.a.get("/api/v1/admin/users");case 4:c=e.sent,a=c.data,t({type:$e,payload:a.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ge,payload:null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Xe=function(){return function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ye});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ze=function(){var e=Object(re.d)(),t=Object(x.b)(),c=Object(x.c)((function(e){return e.auth})),a=c.user,s=c.loading,n=Object(x.c)((function(e){return e.cart})).cartItems;return Object(b.jsx)(r.Fragment,{children:Object(b.jsxs)("nav",{className:"navbar row",children:[Object(b.jsx)("div",{className:"col-12 col-md-3",children:Object(b.jsx)("div",{className:"navbar-brand",children:Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("img",{src:"/images/shopit_logo.png",alt:"icon"})})})}),Object(b.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(b.jsx)(j.b,{render:function(e){var t=e.history;return Object(b.jsx)(oe,{history:t})}})}),Object(b.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(b.jsxs)(d.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(b.jsx)("span",{id:"cart",className:"ml-3",children:"Cart"}),Object(b.jsx)("span",{className:"ml-1",id:"cart_count",children:n.length})]}),a?Object(b.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(b.jsx)(d.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4 mt-3",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","area-aria-haspopup":"true","aria-expanded":"false",children:Object(b.jsxs)("figure",{className:"avatar.avatar-nav",children:[Object(b.jsx)("img",{src:a.avatar&&a.avatar.url,alt:a&&a.name,className:"rounded-circle"}),Object(b.jsx)("span",{style:{marginLeft:"12px"},children:a&&a.name})]})}),Object(b.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[a&&"admin"===a.role&&Object(b.jsx)(d.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(b.jsx)(d.b,{className:"dropdown-item",to:"/orders/me",children:"Orders"}),Object(b.jsx)(d.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(b.jsx)(d.b,{className:"dropdown-item  text-danger",to:"/",onClick:function(){t(function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/v1/logout");case 3:t({type:Be}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:Je,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully")},children:"Logout"})]})]}):!s&&Object(b.jsx)(d.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login"})]})]})})},et=c(262),tt=function(){return Object(b.jsx)("div",{className:"loader",children:" "})},ct="ADD_TO_CART",at="REMOVE_ITEM_CART",rt="SAVE_SHIPPING_INFO",st=function(e,t){return function(){var c=Object(i.a)(Object(l.a)().mark((function c(a,r){var s,n;return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v.a.get("/api/v1/product/".concat(e));case 2:s=c.sent,n=s.data,console.log("data",n),a({type:ct,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 7:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},nt=function(e){var t,c,a,s=e.match,n=Object(r.useState)(1),d=Object(o.a)(n,2),j=d[0],u=d[1],p=Object(r.useState)(0),O=Object(o.a)(p,2),h=O[0],f=O[1],g=Object(r.useState)(""),y=Object(o.a)(g,2),N=y[0],C=y[1],R=Object(x.b)(),D=Object(re.d)(),A=Object(x.c)((function(e){return e.productDetails})),P=A.product,I=A.loading,F=A.error,T=Object(x.c)((function(e){return e.newReview})),U=T.error,k=T.success,L=Object(x.c)((function(e){return e.auth})).user;Object(r.useEffect)((function(){R(ee(s.params.id)),F&&(D.error(F),R(ae())),U&&(D.error(U),R(ae())),k&&(D.success("Review Posted successfully"),R({type:_}))}),[s.params.id,F,U,D,k,R]);return Object(b.jsx)(r.Fragment,{children:I?Object(b.jsx)(tt,{}):Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:null===P||void 0===P?void 0:P.name}),Object(b.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(b.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(b.jsx)(et.a,{pause:"hover",children:null===P||void 0===P||null===(t=P.images)||void 0===t?void 0:t.map((function(e){return Object(b.jsx)(et.a.Item,{children:Object(b.jsx)("img",{className:"d-block w-100",src:e.url,alt:null===P||void 0===P?void 0:P.title})},null===e||void 0===e?void 0:e.pubic_id)}))})}),Object(b.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(b.jsx)("h3",{children:null===P||void 0===P?void 0:P.name}),Object(b.jsxs)("p",{id:"product_id",children:["Product # ",null===P||void 0===P?void 0:P._id]}),Object(b.jsx)("hr",{}),console.log("abcd",null===P||void 0===P?void 0:P.reviews),Object(b.jsx)("div",{className:"rating-outer",children:Object(b.jsx)("div",{className:"rating-inner",style:{width:"".concat((null===P||void 0===P?void 0:P.ratings)/5*100,"%")}})}),Object(b.jsxs)("span",{id:"no_of_reviews",children:["(",null===P||void 0===P?void 0:P.numOfReviews," Reviews)"]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{id:"product_price",children:["$",null===P||void 0===P?void 0:P.price]}),Object(b.jsxs)("div",{className:"stockCounter d-inline",children:[Object(b.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;u(t)}},children:"-"}),Object(b.jsx)("input",{type:"number",className:"form-control count d-inline",value:j,readOnly:!0}),Object(b.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=P.stock)){var t=e.valueAsNumber+1;u(t)}},children:"+"})]}),Object(b.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===(null===P||void 0===P?void 0:P.stock),onClick:function(){R(st(s.params.id,j)),D.success("Item Added to Cart")},children:"Add to Cart"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Status: ",Object(b.jsx)("span",{id:"stock_status",className:(null===P||void 0===P?void 0:P.stock)>0?"greenColor":"redColor",children:(null===P||void 0===P?void 0:P.stock)>0?"In Stock":"Out of Stock"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(b.jsx)("p",{children:null===P||void 0===P?void 0:P.description}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(b.jsx)("strong",{children:null===P||void 0===P?void 0:P.seller})]}),L?Object(b.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),f(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(b.jsx)("div",{className:"alert alert-danger mt-5",type:"alert",children:"Login to post your review."}),Object(b.jsx)("div",{className:"row mt-2 mb-5",children:Object(b.jsx)("div",{className:"rating w-50",children:Object(b.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",role:"document",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(b.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsxs)("ul",{className:"stars",children:[Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})})]}),Object(b.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:N,onChange:function(e){return C(e.target.value)}}),Object(b.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",onClick:function(){var e,t=new FormData;t.set("rating",h),t.set("comment",N),t.set("productId",s.params.id),R((e=t,function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r,s;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:E}),a={headers:{"Content-Type":"application/json"}},t.next=5,v.a.put("/api/v1/review",e,a);case 5:r=t.sent,s=r.data,console.log("}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}",s),c({type:S,payload:s.success}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),c({type:w,payload:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}())),console.log("formData",t)},children:"Submit"})]})]})})})})})]})]}),(null===P||void 0===P?void 0:P.reviews)&&(null===P||void 0===P||null===(c=P.reviews)||void 0===c?void 0:c.length)>0&&(null===P||void 0===P||null===(a=P.reviews)||void 0===a?void 0:a.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"rating-outer",children:Object(b.jsx)("div",{className:"rating-inner",style:{width:"".concat((null===e||void 0===e?void 0:e.rating)/5*100,"%")}})}),Object(b.jsxs)("p",{children:[" ",null===e||void 0===e?void 0:e.name]}),Object(b.jsx)("p",{children:null===e||void 0===e?void 0:e.comment}),Object(b.jsx)("hr",{})]})})))]})})},lt=function(e){var t=e.history,c=e.location,a=Object(r.useState)(""),s=Object(o.a)(a,2),n=s[0],j=s[1],u=Object(r.useState)(""),p=Object(o.a)(u,2),O=p[0],h=p[1],f=Object(re.d)(),g=Object(x.b)(),y=Object(x.c)((function(e){return e.auth})),N=y.isAuthenticated,E=y.error,S=y.loading,_=c.search?c.search.split("=")[1]:"/";console.log("redirect",_),Object(r.useEffect)((function(){N&&t.push(_),E&&(f.error(E),g(Xe()))}),[g,N,S,E,t]);return Object(b.jsx)(r.Fragment,{children:S?Object(b.jsx)(tt,{}):Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Login"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),g(function(e,t){return function(){var c=Object(i.a)(Object(l.a)().mark((function c(a){var r,s,n;return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:de}),r={headers:{"content-Type":"application/json"}},c.next=5,v.a.post("/api/v1/login",{email:e,password:t},r);case 5:s=c.sent,n=s.data,console.log(n),a({type:je,payload:n.user}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),a({type:ue,payload:c.t0.response.data.message});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()}(n,O))},children:[Object(b.jsx)("h1",{className:"mb-3",children:"Login"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return j(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsx)(d.b,{to:"/password/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(b.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(b.jsx)(d.b,{to:"/register",className:"float-right mt-3",children:"New User?"})]})})})]})})},it=function(){var e=Object(x.c)((function(e){return e.auth})),t=e.user,c=e.loading;return Object(b.jsx)(r.Fragment,{children:c?Object(b.jsx)(tt,{}):Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Your Profile"}),Object(b.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(b.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(b.jsxs)("div",{className:"col-12 col-md-3",children:[Object(b.jsx)("figure",{className:"avatar avatar-profile",children:Object(b.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(b.jsx)(d.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(b.jsxs)("div",{className:"col-12 col-md-5",children:[Object(b.jsx)("h4",{children:"Full Name"}),Object(b.jsx)("p",{children:t.name}),Object(b.jsx)("h4",{children:"Email Address"}),Object(b.jsx)("p",{children:t.email}),Object(b.jsx)("h4",{children:"Joined On"}),Object(b.jsx)("p",{children:String(t.createdAt).substring(0,10)}),"admin"!==t.role&&Object(b.jsx)(d.b,{to:"/orders/me",className:"btn btn-success btn-block mt-5",children:"My Orders"}),Object(b.jsx)(d.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})},ot=c(25),dt=["isAdmin","component"],jt=function(e){var t=e.isAdmin,c=e.component,s=Object(ot.a)(e,dt),n=Object(x.c)((function(e){return e.auth})),l=n.isAuthenticated,i=n.loading,o=n.user;return console.log("data auth",i,null===o||void 0===o?void 0:o.role),Object(b.jsx)(r.Fragment,{children:!1===i&&Object(b.jsx)(j.b,Object(a.a)(Object(a.a)({},s),{},{render:function(e){return!1===l?Object(b.jsx)(j.a,{to:"/login"}):1==t&&"admin"!==o.role?Object(b.jsx)(j.a,{to:"/"}):Object(b.jsx)(c,Object(a.a)({},e))}}))})},ut=c(12),bt=function(e){var t=e.history,c=Object(r.useState)({name:"",email:"",password:""}),s=Object(o.a)(c,2),n=s[0],d=s[1],j=n.name,u=n.email,p=n.password,O=Object(r.useState)(""),h=Object(o.a)(O,2),f=h[0],g=h[1],y=Object(r.useState)("/images/default_avatar.jpg"),N=Object(o.a)(y,2),E=N[0],S=N[1],_=Object(re.d)(),w=Object(x.b)(),C=Object(x.c)((function(e){return e.auth})),R=C.isAuthenticated,D=C.error,A=C.loading;Object(r.useEffect)((function(){R&&t.push("/"),D&&(_.error(D),w(Xe()))}),[w,R,A,D,t]);var P=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(S(t.result),g(t.result))},t.readAsDataURL(e.target.files[0])}else d(Object(a.a)(Object(a.a)({},n),{},Object(ut.a)({},e.target.name,[e.target.value])))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Register User"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",j),c.set("email",u),c.set("password",p),c.set("avatar",f),w((t=c,function(){var e=Object(i.a)(Object(l.a)().mark((function e(c){var a,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:be}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,v.a.post("/api/v1/register",t,a);case 5:r=e.sent,s=r.data,c({type:me,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:pe,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mb-3",children:"Register"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(b.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:j,onChange:P})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:P})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:p,onChange:P})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("div",{children:Object(b.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(b.jsx)("img",{src:E,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:P}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(b.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!A,children:"REGISTER"})]})})})]})},mt=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],n=a[1],d=Object(r.useState)(""),j=Object(o.a)(d,2),u=j[0],p=j[1],O=Object(r.useState)(""),h=Object(o.a)(O,2),f=h[0],g=h[1],y=Object(r.useState)("/images/default_avatar.jpg"),N=Object(o.a)(y,2),E=N[0],S=N[1],_=Object(re.d)(),w=Object(x.b)(),C=Object(x.c)((function(e){return e.auth})).user,R=Object(x.c)((function(e){return e.user})),D=R.error,A=R.isUpdated,P=R.loading;Object(r.useEffect)((function(){C&&(n(C.name),p(C.email),S(C.avatar.url)),D&&(_.error(D),w(Xe())),A&&(_.success("user updated sucessfully"),w(ze()),t.push("/me"),w({type:ge}))}),[w,P,D,t,A]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"update profile"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("email",u),c.set("avatar",f),w((t=c,function(){var e=Object(i.a)(Object(l.a)().mark((function e(c){var a,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:fe}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,v.a.put("/api/v1/me/update",t,a);case 5:r=e.sent,s=r.data,c({type:ve,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:ye,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(b.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("div",{children:Object(b.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(b.jsx)("img",{src:E,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(S(t.result),g(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(b.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!P,children:"Update"})]})})})]})},pt=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],n=a[1],d=Object(r.useState)(""),j=Object(o.a)(d,2),u=j[0],p=j[1],O=Object(re.d)(),h=Object(x.b)(),f=Object(x.c)((function(e){return e.user})),g=f.error,y=f.isUpdated,N=f.loading;Object(r.useEffect)((function(){g&&(O.error(g),h(Xe())),y&&(O.success("Password updated sucessfully"),t.push("/me"),h({type:Se}))}),[h,N,g,t,y]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Change Password"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",s),c.set("password",u),h((t=c,function(){var e=Object(i.a)(Object(l.a)().mark((function e(c){var a,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ne}),a={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/password/update",t,a);case 5:r=e.sent,s=r.data,c({type:Ee,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:_e,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"old_password_field",children:"Old Password"}),Object(b.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"new_password_field",children:"New Password"}),Object(b.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!N,children:"Update Password"})]})})})]})},Ot=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(re.d)(),n=Object(x.b)(),d=Object(x.c)((function(e){return e.forgotPassword})),j=d.error,u=d.loading,p=d.message;Object(r.useEffect)((function(){j&&(s.error(j),n(Xe())),p&&s.success(p)}),[n,s,j,p]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Forgot Password"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),n(function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r,s;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Te}),a={headers:{"Content-Type":"application/json"}},t.next=5,v.a.post("/api/v1/password/forgot",e,a);case 5:r=t.sent,s=r.data,c({type:Ue,payload:s.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:ke,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(b.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(b.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!u,children:"Send Email"})]})})})]})},ht=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(o.a)(a,2),n=s[0],d=s[1],j=Object(r.useState)(""),u=Object(o.a)(j,2),p=u[0],O=u[1],h=Object(re.d)(),f=Object(x.b)(),g=Object(x.c)((function(e){return e.forgotPassword})),y=g.error,N=g.success;Object(r.useEffect)((function(){y&&(h.error(y),f(Xe())),N&&(h.success("Password updated successfully"),t.push("/login"))}),[f,h,y,N,t]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"New Password Reset"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("password",n),r.set("confirmpassword",p),f((t=c.params.token,a=r,function(){var e=Object(i.a)(Object(l.a)().mark((function e(c){var r,s,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Le}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/password/reset/".concat(t),a,r);case 5:s=e.sent,n=s.data,c({type:We,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Qe,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:n,onChange:function(e){return d(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(b.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(b.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},xt=function(e){var t=e.history,c=Object(x.b)(),a=Object(x.c)((function(e){return e.cart})).cartItems,s=function(e){c(function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c,a){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:at,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Your Cart"}),0===a.length?Object(b.jsx)("h2",{className:"mt-5",children:"YOur Cart is Empty"}):Object(b.jsxs)(r.Fragment,{children:[Object(b.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(b.jsxs)("b",{children:[a.length,"items"]})]}),Object(b.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(b.jsx)("div",{className:"col-12 col-lg-8",children:a.map((function(e){return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-4 col-lg-3",children:Object(b.jsx)("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})}),Object(b.jsx)("div",{className:"col-5 col-lg-3",children:Object(b.jsx)(d.b,{to:"/ products/".concat(e.product),children:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(b.jsx)("p",{id:"card_item_price",children:e.price})}),Object(b.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(b.jsxs)("div",{className:"stockCounter d-inline",children:[Object(b.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t){var a=t-1;a<=0||c(st(e,a))}(e.product,e.quantity)},children:"-"}),Object(b.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(b.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,a){var r=t+1;r>a||c(st(e,r))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(b.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(b.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return s(e.product)}})})]})},e.product),Object(b.jsx)("hr",{})]})}))}),Object(b.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(b.jsxs)("div",{id:"order_summary",children:[Object(b.jsx)("h4",{children:"Order Summary"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Subtotal:  ",Object(b.jsxs)("span",{className:"order-summary-values",children:[a.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(b.jsxs)("p",{children:["Est. total: ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",a.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=ship")},children:"Check out"})]})})]})]})]})},ft=c(112),vt=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(b.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(b.jsxs)(d.b,{to:"shippping",className:"float-right",children:[Object(b.jsx)("div",{className:"triangle2-active"}),Object(b.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(b.jsx)("div",{className:"triangle-active"})]}):Object(b.jsxs)(d.b,{to:"#!",disabled:!0,children:[Object(b.jsx)("div",{className:"triangle2-incomplete"}),Object(b.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(b.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(b.jsxs)(d.b,{to:"/order/confirm",className:"float-right",children:[Object(b.jsx)("div",{className:"triangle2-active"}),Object(b.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(b.jsx)("div",{className:"triangle-active"})]}):Object(b.jsxs)(d.b,{to:"#!",disabled:!0,children:[Object(b.jsx)("div",{className:"triangle2-incomplete"}),Object(b.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(b.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(b.jsxs)(d.b,{to:"/payment",className:"float-right",children:[Object(b.jsx)("div",{className:"triangle2-active"}),Object(b.jsx)("div",{className:"step active-step",children:"Payment"}),Object(b.jsx)("div",{className:"triangle-active"})]}):Object(b.jsxs)(d.b,{to:"#!",disabled:!0,children:[Object(b.jsx)("div",{className:"triangle2-incomplete"}),Object(b.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(b.jsx)("div",{className:"triangle-incomplete"})]})]})},gt=function(e){var t=e.history,c=Object.values(ft.countries),a=Object(x.c)((function(e){return e.cart})).shippingInfo,s=Object(r.useState)(a.address),n=Object(o.a)(s,2),d=n[0],j=n[1],u=Object(r.useState)(a.city),p=Object(o.a)(u,2),O=p[0],h=p[1],f=Object(r.useState)(a.postalCode),v=Object(o.a)(f,2),g=v[0],y=v[1],N=Object(r.useState)(a.phoneNo),E=Object(o.a)(N,2),S=E[0],_=E[1],w=Object(r.useState)(a.country),C=Object(o.a)(w,2),R=C[0],D=C[1],A=Object(x.b)();return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Shipping Info"}),Object(b.jsx)(vt,{shipping:!0}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),A((c={address:d,city:O,phoneNo:S,postalCode:g,country:R},function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:rt,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/order/confirm")},children:[Object(b.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(b.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:d,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(b.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:O,onChange:function(e){return h(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(b.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:S,onChange:function(e){return _(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(b.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:g,onChange:function(e){return y(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(b.jsx)("select",{id:"country_field",className:"form-control",value:R,onChange:function(e){return D(e.target.value)},required:!0,children:c.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(b.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},yt=function(e){var t=e.history,c=Object(x.c)((function(e){return e.cart})),a=c.cartItems,s=c.shippingInfo,n=Object(x.c)((function(e){return e.auth})).user,l=a.reduce((function(e,t){return e+t.price*t.quantity}),0),i=l>200?0:25,o=Number((.05*l).toFixed(2)),j=(l+i+o).toFixed(2);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Confirm Order"}),Object(b.jsx)(vt,{shipping:!0,confirmOrder:!0}),Object(b.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(b.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(b.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Name:"}),n&&n.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Phone:"}),s.phoneNo]}),Object(b.jsxs)("p",{className:"mb-4",children:[Object(b.jsx)("b",{children:"Address:"})," ","".concat(s.address,",").concat(s.city,", ").concat(s.postalCode,", ").concat(s.country)]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),null===a||void 0===a?void 0:a.map((function(e){return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item my-1",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-4 col-lg-2",children:Object(b.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"Laptop",height:"45",width:"65"})}),Object(b.jsx)("div",{className:"col-5 col-lg-6",children:Object(b.jsx)(d.b,{to:"/product/".concat(null===e||void 0===e?void 0:e.product),children:null===e||void 0===e?void 0:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:[null===e||void 0===e?void 0:e.quantity," x $",null===e||void 0===e?void 0:e.price," = ",Object(b.jsxs)("b",{children:["$",((null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.price)).toFixed(2)]})]})})]})},null===e||void 0===e?void 0:e.product),Object(b.jsx)("hr",{})]})}))]}),Object(b.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(b.jsxs)("div",{id:"order_summary",children:[Object(b.jsx)("h4",{children:"Order Summary"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Subtotal:  ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",l]})]}),Object(b.jsxs)("p",{children:["Shipping: ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",i]})]}),Object(b.jsxs)("p",{children:["Tax:  ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",o]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Total: ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",j]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={itemsPrice:l.toFixed(2),shippingPrice:i,taxPrice:o,totalPrice:j};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},Nt="CREATE_ORDER_REQUEST",Et="CREATE_ORDER_SUCCESS",St="CREATE_ORDER_FAIL",_t="MY_ORDERS_REQUEST",wt="MY_ORDERS_SUCCESS",Ct="MY_ORDERS_FAIL",Rt="ALL_ORDERS_REQUEST",Dt="ALL_ORDERS_SUCCESS",At="ALL_ORDERS_FAIL",Pt="UPDATE_ORDER_REQUEST",It="UPDATE_ORDER_SUCCESS",Ft="UPDATE_ORDER_FAIL",Tt="UPDATE_ORDER_RESET",Ut="DELETE_ORDER_REQUEST",kt="DELETE_ORDER_SUCCESS",Lt="DELETE_ORDER_FAIL",Wt="DELETE_ORDER_RESET",Qt="ORDERS_DETAILS_REQUEST",Ht="ORDERS_DETAILS_SUCCESS",Vt="ORDERS_DETAILS_FAIL",qt="CLEAR_ERRORS",Mt=function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c,a){var r,s,n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Nt}),r={headers:{"Content-Type":"application/json"}},t.next=5,v.a.post("/api/v1/order/new",e,r);case 5:s=t.sent,n=s.data,c({type:Et,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:St,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},$t=function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Qt}),t.next=4,v.a.get("/api/v1/order/".concat(e));case 4:a=t.sent,r=a.data,console.log(r,"???????????"),c({type:Ht,payload:r.order}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Vt,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Gt=function(){return function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Rt}),e.next=4,v.a.get("/api/v1/admin/orders");case 4:c=e.sent,a=c.data,console.log(a,"???????????"),t({type:Dt,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:At,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Bt=function(){return function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:qt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Jt=c(31),Yt={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},zt=function(e){var t=e.history,c=Object(re.d)(),a=Object(Jt.useStripe)(),s=Object(Jt.useElements)(),n=Object(x.b)(),o=Object(x.c)((function(e){return e.auth})).user,d=Object(x.c)((function(e){return e.cart})),j=d.cartItems,u=d.shippingInfo,p=Object(x.c)((function(e){return e.newOrder})).error;Object(r.useEffect)((function(){p&&(c.error(p),n(Bt()))}),[n,c,p]);var O={orderItems:j,shippingInfo:u},h=JSON.parse(sessionStorage.getItem("orderInfo"));h&&(O.itemsPrice=h.itemsPrice,O.shippingPrice=h.shippingPrice,O.taxPrice=h.taxPrice,O.totalPrice=h.totalPrice);var f={amount:Math.round(100*h.totalPrice)},g=function(){var e=Object(i.a)(Object(l.a)().mark((function e(r){var i,d,j,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),document.querySelector("#pay_btn").disabled=!0,e.prev=2,d={headers:{"Content-Type":"application/json"}},e.next=6,v.a.post("/api/v1/payment/process",f,d);case 6:if(i=e.sent,j=i.data.client_secret,a&&s){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,a.confirmCardPayment(j,{payment_method:{card:s.getElement(Jt.CardNumberElement),billing_details:{name:o.name,email:o.email}}});case 12:(u=e.sent).error?(c.error(u.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===u.paymentIntent.status?(O.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},n(Mt(O)),t.push("/success")):c.error("There is some issue while payment processing"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),document.querySelector("#pay_btn").disabled=!1,c.error(e.t0.response.data.message);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Payment"}),Object(b.jsx)(vt,{shipping:!0,confirmOrder:!0,payment:!0}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:g,children:[Object(b.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(b.jsx)(Jt.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:Yt})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(b.jsx)(Jt.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:Yt})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(b.jsx)(Jt.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:Yt})]}),Object(b.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay ","-".concat(h&&h.totalPrice)]})]})})})]})},Kt=function(){return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"order success"}),Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(b.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object(b.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(b.jsx)(d.b,{to:"/orders/me",children:"Go to Orders"})]})})]})},Xt=c(29),Zt=function(){var e=Object(re.d)(),t=Object(x.b)(),c=Object(x.c)((function(e){return e.myOrders})),a=c.loading,s=c.error,n=c.orders;Object(r.useEffect)((function(){t(function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){var c,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_t}),e.next=4,v.a.get("/api/v1/orders/me");case 4:c=e.sent,a=c.data,console.log(a,"???????????"),t({type:wt,payload:a.orders}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:Ct,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),s&&(e.error(s),t(Bt()))}),[t,e,s]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"My Orders"}),Object(b.jsx)("h1",{className:"my-5",children:"My Orders"}),a?Object(b.jsx)(tt,{}):Object(b.jsx)(Xt.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(b.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(b.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(b.jsx)(d.b,{to:"/order/".concat(t._id),className:"btn btn-primary",children:Object(b.jsx)("i",{className:"fa fa-eye"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},ec=function(){return Object(b.jsx)("div",{className:"sidebar-wrapper",children:Object(b.jsx)("nav",{id:"sidebar",children:Object(b.jsxs)("ul",{className:"list-unstyled components",children:[Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/dashboard",children:[Object(b.jsx)("i",{className:"fas fa-tachometer-alt"})," Dashboard"]})}),Object(b.jsxs)("li",{children:[Object(b.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(b.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(b.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/admin/products",children:[Object(b.jsx)("i",{className:"fas fa-clipboard-list"})," All"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/admin/product",children:[Object(b.jsx)("i",{className:"fas fa-plus"})," Create"]})})]})]}),Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/admin/orders",children:[Object(b.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/admin/users",children:[Object(b.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(d.b,{to:"/admin/reviews",children:[Object(b.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},tc=function(){var e,t,c=Object(x.b)(),a=Object(x.c)((function(e){return e.products})).products,s=Object(x.c)((function(e){return e.allUsers})).users,n=Object(x.c)((function(e){return e.allOrders})),l=n.orders,i=n.totalAmount,o=n.loading;Object(r.useEffect)((function(){c(ce()),c(Gt()),c(Ke())}),[c]);var j=0;return null===a||void 0===a||null===(e=a.products)||void 0===e||e.forEach((function(e){0===e.stock&&(j+=1)})),Object(b.jsx)(r.Fragment,{children:Object(b.jsxs)("div",{className:"row",children:["'",Object(b.jsx)("div",{className:"col-5 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsxs)("div",{className:"col-9 col-md-18",children:[Object(b.jsx)("h1",{className:"my-9",children:"Dashboard"}),o?Object(b.jsx)(tt,{}):Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Admin Dashboard"}),Object(b.jsx)("div",{className:"row pr-4",children:Object(b.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(b.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(b.jsx)("br",{})," ",Object(b.jsxs)("b",{children:["$",i&&i.toFixed(2)]})]})})})})}),Object(b.jsxs)("div",{className:"row pr-4",children:[Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:(null===a||void 0===a?void 0:a.products)&&(null===a||void 0===a||null===(t=a.products)||void 0===t?void 0:t.length)})]})}),Object(b.jsxs)(d.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(b.jsx)("span",{className:"float-left",children:"View Details"}),Object(b.jsx)("span",{className:"float-right",children:Object(b.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:l&&(null===l||void 0===l?void 0:l.length)})]})}),Object(b.jsxs)(d.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(b.jsx)("span",{className:"float-left",children:"View Details"}),Object(b.jsx)("span",{className:"float-right",children:Object(b.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:s&&s.length})]})}),Object(b.jsxs)(d.b,{className:"card-footer text-white clearfix small z-1",href:"/admin/users",children:[Object(b.jsx)("span",{className:"float-left",children:"View Details"}),Object(b.jsx)("span",{className:"float-right",children:Object(b.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:j})]})})})})]})]})]})]})})},cc=c(23),ac=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],n=a[1],d=Object(r.useState)(""),j=Object(o.a)(d,2),u=j[0],p=j[1],O=Object(r.useState)(""),h=Object(o.a)(O,2),f=h[0],g=h[1],y=Object(r.useState)(""),N=Object(o.a)(y,2),E=N[0],S=N[1],_=Object(r.useState)(0),w=Object(o.a)(_,2),C=w[0],R=w[1],D=Object(r.useState)(""),A=Object(o.a)(D,2),P=A[0],I=A[1],F=Object(r.useState)([]),T=Object(o.a)(F,2),U=T[0],k=T[1],L=Object(r.useState)([]),W=Object(o.a)(L,2),Q=W[0],H=W[1],V=Object(re.d)(),q=Object(x.b)(),M=Object(x.c)((function(e){return null===e||void 0===e?void 0:e.newProduct})),$=M.loading,G=M.error,B=M.success;Object(r.useEffect)((function(){G&&(V.error(G),q(ae())),B&&(t.push("/admin/products"),V.success("Product created successfully"),q({type:K}))}),[q,V,G,B,t]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"New Product"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsx)(r.Fragment,{children:Object(b.jsx)("div",{className:"wrapper my-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("price",u),c.set("description",f),c.set("category",E),c.set("stock",C),c.set("seller",P),U.forEach((function(e){c.append("images",e)})),q((t=c,function(){var e=Object(i.a)(Object(l.a)().mark((function e(c){var a,r,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Y}),a={headers:{"Content-Type":"application/json"}},e.next=5,v.a.post("/api/v1/admin/product/new",t,a);case 5:r=e.sent,s=r.data,console.log("}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}",s),c({type:z,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c({type:X,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(b.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(b.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(b.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(b.jsx)("select",{className:"form-control",id:"category_field",value:E,onChange:function(e){return S(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(b.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:C,onChange:function(e){return R(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(b.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:P,onChange:function(e){return I(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Images"}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);H([]),k([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(H((function(e){return[].concat(Object(cc.a)(e),[t.result])})),k((function(e){return[].concat(Object(cc.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),Q.map((function(e){return Object(b.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(b.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!$,children:"CREATE"})]})})})})]})]})},rc=function(e){var t=e.match,c=e.history,a=Object(r.useState)(""),s=Object(o.a)(a,2),n=s[0],d=s[1],j=Object(r.useState)(0),u=Object(o.a)(j,2),p=u[0],O=u[1],h=Object(r.useState)(""),f=Object(o.a)(h,2),g=f[0],y=f[1],N=Object(r.useState)(""),E=Object(o.a)(N,2),S=E[0],_=E[1],w=Object(r.useState)(0),C=Object(o.a)(w,2),R=C[0],D=C[1],A=Object(r.useState)(""),P=Object(o.a)(A,2),I=P[0],F=P[1],T=Object(r.useState)([]),U=Object(o.a)(T,2),k=U[0],L=U[1],q=Object(r.useState)([]),M=Object(o.a)(q,2),$=M[0],G=M[1],B=Object(r.useState)([]),J=Object(o.a)(B,2),Y=J[0],z=J[1],K=Object(re.d)(),X=Object(x.b)(),Z=Object(x.c)((function(e){return null===e||void 0===e?void 0:e.productDetails})),te=Z.error,ce=Z.product,se=Object(x.c)((function(e){return null===e||void 0===e?void 0:e.product})),ne=se.loading,le=se.error,ie=se.isUpdated;console.log();var oe=t.params.id;Object(r.useEffect)((function(){ce&&ce._id!==oe?X(ee(oe)):(d(null===ce||void 0===ce?void 0:ce.name),O(null===ce||void 0===ce?void 0:ce.price),y(null===ce||void 0===ce?void 0:ce.description),_(null===ce||void 0===ce?void 0:ce.category),F(null===ce||void 0===ce?void 0:ce.seller),D(null===ce||void 0===ce?void 0:ce.stock),G(null===ce||void 0===ce?void 0:ce.images)),te&&(K.error(te),X(ae())),le&&(K.error(le),X(ae())),ie&&(c.push("/admin/products"),K.success("Product updated successfully"),X({type:H}))}),[X,K,te,ie,c,le,ce,oe]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Update Product"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsx)(r.Fragment,{children:Object(b.jsx)("div",{className:"wrapper my-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a=new FormData;a.set("name",n),a.set("price",p),a.set("description",g),a.set("category",S),a.set("stock",R),a.set("seller",I),k.forEach((function(e){a.append("images",e)})),X((t=ce._id,c=a,function(){var e=Object(i.a)(Object(l.a)().mark((function e(a){var r,s,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:W}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/admin/product/".concat(t),c,r);case 5:s=e.sent,n=s.data,console.log("}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}",n),a({type:Q,payload:n.success}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:V,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mb-4",children:"Update Product"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(b.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:n,onChange:function(e){return d(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(b.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(b.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(b.jsx)("select",{className:"form-control",id:"category_field",value:S,onChange:function(e){return _(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(b.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:R,onChange:function(e){return D(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(b.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:I,onChange:function(e){return F(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Images"}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);console.log(t),z([]),L([]),G([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(z((function(e){return[].concat(Object(cc.a)(e),[t.result])})),L((function(e){return[].concat(Object(cc.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),$&&$.map((function(e){return Object(b.jsx)("img",{src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"},e)})),Y.map((function(e){return Object(b.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(b.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!ne,children:"UPDATE"})]})})})})]})]})},sc=function(e){var t=e.history,c=Object(re.d)(),a=Object(x.b)(),s=Object(x.c)((function(e){return e.allOrders})),n=s.loading,o=s.error,j=s.orders,u=Object(x.c)((function(e){return e.order})).isDeleted;Object(r.useEffect)((function(){a(Gt()),o&&(c.error(o),a(Bt())),u&&(c.success("Order deleted successfully"),t.push("/admin/orders"),a({type:Wt}))}),[a,c,o,u,t]);var p=function(e){a(function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ut}),t.next=4,v.a.delete("/api/v1/admin/order/".concat(e));case 4:a=t.sent,r=a.data,c({type:It,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Ft,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"All Orders"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("h1",{className:"my-5",children:"All Orders"}),n?Object(b.jsx)(tt,{}):Object(b.jsx)(Xt.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numofItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return j.forEach((function(t){e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(b.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(b.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(d.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(b.jsx)("i",{className:"fa fa-eye"})}),Object(b.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return p(t._id)},children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},nc=function(e){var t=e.match,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],n=a[1],j=Object(re.d)(),u=Object(x.b)(),p=Object(x.c)((function(e){return e.orderDetails})),O=p.loading,h=p.order,f=void 0===h?{}:h,g=f.shippingInfo,y=f.orderItems,N=f.paymentInfo,E=f.user,S=f.totalPrice,_=f.orderStatus,w=Object(x.c)((function(e){return e.order})),C=w.error,R=w.isUpdated,D=t.params.id;Object(r.useEffect)((function(){u($t(D)),C&&(j.error(C),u(Bt())),R&&(j.success("Order updated successfully"),u({type:Tt}))}),[u,j,C,R,D]);var A=function(e){var t=new FormData;t.set("status",s),u(function(e,t){return function(){var c=Object(i.a)(Object(l.a)().mark((function c(a){var r,s,n;return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Pt}),r={headers:{"Content-Type":"application/json"}},c.next=5,v.a.put("/api/v1/admin/order/".concat(e),t,r);case 5:s=c.sent,n=s.data,a({type:It,payload:n.success}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:Ft,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(e,t))},P=g&&"".concat(g.address,", ").concat(g.city,", ").concat(g.postalCode,", ").concat(g.country),I=!(!N||"succeeded"!==N.status);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Process Order # ".concat(f&&f._id)}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsx)(r.Fragment,{children:O?Object(b.jsx)(tt,{}):Object(b.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(b.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object(b.jsxs)("h2",{className:"my-5",children:["Order # ",f._id]}),Object(b.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Name:"})," ",E&&E.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Phone:"})," ",g&&g.phoneNo]}),Object(b.jsxs)("p",{className:"mb-4",children:[Object(b.jsx)("b",{children:"Address:"}),P]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Amount:"})," $",S]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"my-4",children:"Payment"}),Object(b.jsx)("p",{className:I?"greenColor":"redColor",children:Object(b.jsx)("b",{children:I?"PAID":"NOT PAID"})}),Object(b.jsx)("h4",{className:"my-4",children:"Stripe ID"}),Object(b.jsx)("p",{children:Object(b.jsx)("b",{children:N&&N.id})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(b.jsx)("p",{className:f.orderStatus&&String(f.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(b.jsx)("b",{children:_})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item my-1",children:y&&y.map((function(e){return Object(b.jsxs)("div",{className:"row my-5",children:[Object(b.jsx)("div",{className:"col-4 col-lg-2",children:Object(b.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(b.jsx)("div",{className:"col-5 col-lg-5",children:Object(b.jsx)(d.b,{to:"/products/".concat(e.product),children:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:["$",e.price]})}),Object(b.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object(b.jsx)("h4",{className:"my-4",children:"Status"}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsxs)("select",{className:"form-control",name:"status",value:s,onChange:function(e){return n(e.target.value)},children:[Object(b.jsx)("option",{value:"Processing",children:"Processing"}),Object(b.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(b.jsx)("option",{value:"Delivered",children:"Delivered"})]})}),Object(b.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return A(f._id)},children:"Update Status"})]})]})})})]})]})},lc=function(e){var t=e.history,c=Object(re.d)(),a=Object(x.b)(),s=Object(x.c)((function(e){return e.allUsers})),n=s.loading,o=s.error,j=s.users,u=Object(x.c)((function(e){return e.user})).isDeleted;Object(r.useEffect)((function(){a(Ke()),o&&(c.error(o),a(Xe())),u&&(c.success("User deleted successfully"),t.push("/admin/users"),a({type:Ie}))}),[a,c,o,u,t]);var p=function(e){a(function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ae}),t.next=4,v.a.delete("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:Pe,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Fe,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"All Users"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("h1",{className:"my-5",children:"All Users"}),n?Object(b.jsx)(tt,{}):Object(b.jsx)(Xt.c,{data:function(){var e={columns:[{label:"User ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return j.forEach((function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(d.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(b.jsx)("i",{className:"fa fa-pencil"})}),Object(b.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return p(t._id)},children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},ic=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(o.a)(a,2),n=s[0],d=s[1],j=Object(r.useState)(""),u=Object(o.a)(j,2),p=u[0],O=u[1],h=Object(r.useState)(""),f=Object(o.a)(h,2),g=f[0],y=f[1],N=Object(re.d)(),E=Object(x.b)(),S=Object(x.c)((function(e){return e.user})),_=S.error,w=S.isUpdated,C=Object(x.c)((function(e){return e.userDetails})).user,R=c.params.id;Object(r.useEffect)((function(){var e;C&&C._id!==R?E((e=R,function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:He}),t.next=4,v.a.get("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:Ve,payload:r.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:qe,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(d(C.name),O(C.email),y(C.role)),_&&(N.error(_),E(Xe())),w&&(N.success("User updated successfully"),t.push("/admin/users"),E({type:Re}))}),[E,N,_,t,w,R,C]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Update User"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a=new FormData;a.set("name",n),a.set("email",p),a.set("role",g),E((t=C._id,c=a,function(){var e=Object(i.a)(Object(l.a)().mark((function e(a){var r,s,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:we}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/admin/user/".concat(t),c,r);case 5:s=e.sent,n=s.data,a({type:Ce,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:De,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("h1",{className:"mt-2 mb-5",children:"Update User"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(b.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:n,onChange:function(e){return d(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"role_field",children:"Role"}),Object(b.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:g,onChange:function(e){return y(e.target.value)},children:[Object(b.jsx)("option",{value:"user",children:"user"}),Object(b.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(b.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})})]})]})},oc=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(re.d)(),n=Object(x.b)(),d=Object(x.c)((function(e){return e.productReviews})),j=(d.loading,d.error),u=d.reviews,p=Object(x.c)((function(e){return e.review})),O=p.isDeleted;p.error;Object(r.useEffect)((function(){j&&(s.error(j),n(ae())),""!==c&&n(te(c)),O&&(s.success("Review deleted successfully"),n({type:D}))}),[n,s,j,c,O]);var h=function(e){n(function(e,t){return function(){var c=Object(i.a)(Object(l.a)().mark((function c(a){var r,s;return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:C}),c.next=4,v.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:r=c.sent,s=r.data,a({type:R,payload:s.success}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),a({type:A,payload:c.t0.response.data.message});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,c))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Product Reviews"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("div",{className:"row justify-content-center mt-5",children:Object(b.jsx)("div",{className:"col-5",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(te(c))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"productId_field",children:"Enter Product ID"}),Object(b.jsx)("input",{type:"text",id:"productId_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(b.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",children:"SEARCH"})]})})}),u&&u.length>0?Object(b.jsx)(Xt.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return u.forEach((function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object(b.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return h(t._id)},children:Object(b.jsx)("i",{className:"fa fa-trash"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object(b.jsx)("p",{className:"mt-5 text-center",children:"No Reviews."})]})})]})]})},dc=c(43),jc=c(118),uc=c(117),bc=Object(dc.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case g:return{loading:!0,products:[]};case M:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case y:return{loading:!1,products:t.payload};case $:case N:return{loading:!1,error:t.payload};case Z:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},c=arguments.length>1?arguments[1]:void 0;switch(c.type){case G:return Object(a.a)(Object(a.a)({},t),{},{loading:!0});case B:return{loading:!1,product:c.payload.product};case J:return Object(a.a)(Object(a.a)({},t),{},{error:null===c||void 0===c||null===(e=c.payload)||void 0===e?void 0:e.product});case Z:return Object(a.a)(Object(a.a)({},t),{},{error:null});default:return t}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:case W:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case U:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case Q:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case L:case V:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case k:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case H:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case Z:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:case be:case Oe:return{loading:!0,isAuthenticated:!1};case je:case me:case he:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case xe:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case Be:return{loading:!1,isAuthenticated:!1,user:null};case Je:return Object(a.a)(Object(a.a)({},e),{},{errror:t.payload});case ue:case pe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,isAuthenticated:!1,user:null,error:t.payload});case Ye:return Object(a.a)(Object(a.a)({},e),{},{errror:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:case Ne:case we:case Ae:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ve:case Ee:case Ce:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case Pe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case ge:case Se:case Re:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case Ie:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case ye:case _e:case De:case Fe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case Ye:return Object(a.a)(Object(a.a)({},e),{},{errror:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case $e:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,users:t.payload});case ke:case Ge:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case Ye:return Object(a.a)(Object(a.a)({},e),{},{errror:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,user:t.payload});case qe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case Ye:return Object(a.a)(Object(a.a)({},e),{},{errror:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:case Le:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,error:null});case Ue:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,message:t.payload});case We:return Object(a.a)(Object(a.a)({},e),{},{success:t.payload});case ke:case Qe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case Ye:return Object(a.a)(Object(a.a)({},e),{},{errror:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:var c=t.payload;console.log("item",c);var r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[].concat(Object(cc.a)(e.cartItems),[c])});case at:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case rt:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(a.a)(Object(a.a)({},e),{},{liading:!0});case Et:return{loading:!1,order:t.payload};case St:return{loading:!1,error:t.payload};case qt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return{loading:!0};case wt:return{loading:!1,orders:t.payload};case Ct:return{loading:!1,error:t.payload};case qt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt:return{loading:!0};case Ht:return{loading:!1,order:t.payload};case Vt:return{loading:!1,error:t.payload};case qt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case S:return{loading:!1,product:t.payload};case w:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case _:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case Z:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case I:return{loading:!1,reviews:t.payload};case F:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Z:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case R:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case A:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case D:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case Z:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case z:return{loading:!1,product:t.payload.product,success:t.payload.success};case X:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case K:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case Z:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return{loading:!0};case Dt:return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case At:return{loading:!1,error:t.payload};case qt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:case Ut:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case It:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case kt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case Ft:case Lt:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Tt:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case Wt:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case qt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),mc={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},pc=[jc.a],Oc=Object(dc.createStore)(bc,mc,Object(uc.composeWithDevTools)(dc.applyMiddleware.apply(void 0,pc))),hc=c(119),xc=function(e){var t=e.match,c=Object(x.c)((function(e){return e.orderDetails})),a=c.loading,s=c.error,n=c.order,l=void 0===n?{}:n,i=Object(re.d)(),o=Object(x.b)(),j=l.shippingInfo,u=l.orderItems,p=l.paymentInfo,O=l.user,h=l.totalPrice,f=l.orderStatus;Object(r.useEffect)((function(){o($t(t.params.id)),s&&(i.error(s),o(Bt()))}),[o,i,s,t.params.id]);var v=j&&"".concat(j.address,", ").concat(j.city,", ").concat(j.postalCode,", ").concat(j.country),g=!(!p||"succeeded"!==p.status);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"Order Details"}),a?Object(b.jsx)(tt,{}):Object(b.jsx)(r.Fragment,{children:Object(b.jsx)("div",{className:"row d-flex justify-content-between",children:Object(b.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(b.jsxs)("h1",{className:"my-5",children:["Order # ",l._id]}),Object(b.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Name:"})," ",O&&O.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Phone:"})," ",j&&j.phoneNo]}),Object(b.jsxs)("p",{className:"mb-4",children:[Object(b.jsx)("b",{children:"Address:"}),v]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Amount:"})," $",h]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"my-4",children:"Payment"}),Object(b.jsx)("p",{className:g?"greenColor":"redColor",children:Object(b.jsx)("b",{children:g?"PAID":"NOT PAID"})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(b.jsx)("p",{className:l.orderStatus&&String(l.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(b.jsx)("b",{children:f})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item my-1",children:u&&u.map((function(e){return Object(b.jsxs)("div",{className:"row my-5",children:[Object(b.jsx)("div",{className:"col-4 col-lg-2",children:Object(b.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(b.jsx)("div",{className:"col-5 col-lg-5",children:Object(b.jsx)(d.b,{to:"/products/".concat(e.product),children:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:["$",e.price]})}),Object(b.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(b.jsx)("hr",{})]})})})]})},fc=function(e){var t=e.history,c=Object(re.d)(),a=Object(x.b)(),s=Object(x.c)((function(e){return null===e||void 0===e?void 0:e.products})),n=s.loading,o=s.error,j=s.products,u=Object(x.c)((function(e){return e.product})),p=u.error,O=u.isDeleted;Object(r.useEffect)((function(){a(ce()),o&&(c.error(o),a(ae())),p&&(c.deleteErrror(o),a(ae())),O&&(c.success("Product Deleted Successfully"),t.push("/admin/products"),a({type:"DELETE_PRODUCT_RESET "}))}),[a,c,o,p,O,t]);var h=function(e){a(function(e){return function(){var t=Object(i.a)(Object(l.a)().mark((function t(c){var a,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:W}),t.next=4,v.a.delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,r=a.data,console.log("}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}",r),c({type:U,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:L,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(m,{title:"All Product"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(ec,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("h1",{className:"my-5",children:"All Products"}),n?Object(b.jsx)(tt,{}):Object(b.jsx)(Xt.c,{data:function(){var e,t={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Prpce",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return null===j||void 0===j||null===(e=j.products)||void 0===e||e.forEach((function(e){var c;null===t||void 0===t||null===(c=t.rows)||void 0===c||c.push({id:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,price:"$".concat(null===e||void 0===e?void 0:e.price),stock:null===e||void 0===e?void 0:e.stock,actions:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(d.b,{to:"/admin/product/".concat(null===e||void 0===e?void 0:e._id),className:"btn btn-primary py-1 px-2",children:Object(b.jsx)("i",{className:"fa fa-pencil"})}),Object(b.jsx)("button",{style:{marginLeft:"45px",marginTop:"-60px"},className:"btn btn-danger py-1 px-6 ml-7",onClick:function(){return h(e._id)},children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})})})),t}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})};var vc=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),c=t[0],a=t[1];Object(r.useEffect)((function(){function e(){return(e=Object(i.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/v1/stripeapi");case 2:t=e.sent,c=t.data,console.log(c.stripeApiKey),a(c.stripeApiKey);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Oc.dispatch(ze()),function(){e.apply(this,arguments)}()}),[]);var s=Object(x.c)((function(e){return e.auth})),n=s.user,u=s.loading,m=s.isAuthenticated;return Object(b.jsx)(d.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(Ze,{}),Object(b.jsxs)("div",{className:"container container-fluid",children:[Object(b.jsx)(j.b,{path:"/",component:le,exact:!0}),Object(b.jsx)(j.b,{path:"/search/:keyword",component:le}),Object(b.jsx)(j.b,{path:"/product/:id",component:nt,exact:!0}),Object(b.jsx)(j.b,{path:"/cart",component:xt,exact:!0}),Object(b.jsx)(jt,{path:"/ship",component:gt}),Object(b.jsx)(jt,{path:"/order/confirm",component:yt}),Object(b.jsx)(jt,{path:"/success",component:Kt}),c&&Object(b.jsx)(Jt.Elements,{stripe:Object(hc.a)(c),children:Object(b.jsx)(jt,{path:"/payment",component:zt})}),Object(b.jsx)(j.b,{path:"/login",component:lt}),Object(b.jsx)(j.b,{path:"/register",component:bt}),Object(b.jsx)(j.b,{path:"/password/forgot",component:Ot,exact:!0}),Object(b.jsx)(j.b,{path:"/password/reset/:token",component:ht,exact:!0}),Object(b.jsx)(jt,{path:"/me",component:it,exact:!0}),Object(b.jsx)(jt,{path:"/me/update",component:mt,exact:!0}),Object(b.jsx)(jt,{path:"/password/update",component:pt,exact:!0}),Object(b.jsx)(jt,{path:"/orders/me",component:Zt,exact:!0}),Object(b.jsx)(jt,{path:"/order/:id",component:xc,exact:!0}),Object(b.jsx)(jt,{path:"/dashboard",isAdmin:!0,component:tc,exact:!0}),Object(b.jsx)(jt,{path:"/admin/products",isAdmin:!0,component:fc,exact:!0}),Object(b.jsx)(jt,{path:"/admin/orders",isAdmin:!0,component:sc,exact:!0}),Object(b.jsx)(jt,{path:"/admin/users",isAdmin:!0,component:lc,exact:!0}),Object(b.jsx)(jt,{path:"/admin/product",isAdmin:!0,component:ac,exact:!0}),Object(b.jsx)(jt,{path:"/admin/product/:id",isAdmin:!0,component:rc,exact:!0}),Object(b.jsx)(jt,{path:"/admin/order/:id",isAdmin:!0,component:nc,exact:!0}),Object(b.jsx)(jt,{path:"/admin/user/:id",isAdmin:!0,component:ic,exact:!0}),Object(b.jsx)(jt,{path:"/admin/reviews",isAdmin:!0,component:oc,exact:!0})]}),!u&&(!m||"admin"!==n.role)&&Object(b.jsx)(ie,{})]})})},gc=c(120),yc={timeout:5e3,position:re.b.BOTTOM_CENTER,transition:re.c.SCALE};n.a.render(Object(b.jsx)(x.a,{store:Oc,children:Object(b.jsx)(re.a,Object(a.a)(Object(a.a)({template:gc.a},yc),{},{children:Object(b.jsx)(vc,{})}))}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.30b32135.chunk.js.map