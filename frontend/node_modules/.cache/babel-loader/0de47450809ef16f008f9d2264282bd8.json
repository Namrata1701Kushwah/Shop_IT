{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import MetaData from'../layouts/MetaData';import Loader from'../layouts/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{getOrderDetails,clearErrors}from'../../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetails=function OrderDetails(_ref){var match=_ref.match;var _useSelector=useSelector(function(state){return state.orderDetails;}),loading=_useSelector.loading,error=_useSelector.error,_useSelector$order=_useSelector.order,order=_useSelector$order===void 0?{}:_useSelector$order;var alert=useAlert();var dispatch=useDispatch();var shippingInfo=order.shippingInfo,orderItems=order.orderItems,paymentInfo=order.paymentInfo,user=order.user,totalPrice=order.totalPrice,orderStatus=order.orderStatus;useEffect(function(){dispatch(getOrderDetails(match.params.id));if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error,match.params.id]);var shippingDetails=shippingInfo&&\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.postalCode,\", \").concat(shippingInfo.country);var isPaid=paymentInfo&&paymentInfo.status==='succeeded'?true:false;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Order Details'}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8 mt-5 order-details\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"my-5\",children:[\"Order # \",order._id]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name:\"}),\" \",user&&user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone:\"}),\" \",shippingInfo&&shippingInfo.phoneNo]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Address:\"}),shippingDetails]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Amount:\"}),\" $\",totalPrice]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Payment\"}),/*#__PURE__*/_jsx(\"p\",{className:isPaid?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:isPaid?\"PAID\":\"NOT PAID\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Order Status:\"}),/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&String(order.orderStatus).includes('Delivered')?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:orderStatus})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Order Items:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item my-1\",children:orderItems&&orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"row my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,height:\"45\",width:\"65\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",item.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.quantity,\" Piece(s)\"]})})]},item.product);})}),/*#__PURE__*/_jsx(\"hr\",{})]})})})]});};export default OrderDetails;// const OrderDetails = ({ match }) => {\n//     const { loading, error, order } = useSelector(state => state.orderDetails)\n//     console.log(\">>>>.\",order)\n//     // const { paymentInfo, user, totalPrice, orderStatus } = order;\n//    \n// useEffect(() => {\n//     dispatch(getOrderDetails(match.params.id));\n//     if (error) {\n//         alert.error(error);\n//         dispatch(clearErrors())\n//     }\n// }, [dispatch, alert, error, match.params.id])\n//    \n//     return (\n//         <Fragment>\n//             <MetaData title={'Order Details'} />\n//             {loading ? <Loader /> : (\n//                 <Fragment>\n//                     <div className=\"row d-flex justify-content-between\">\n//                         <div className=\"col-12 col-lg-8 mt-5 order-details\">\n//                             <h1 className=\"my-5\">Order # {order._id}</h1>\n//                             <h4 className=\"mb-4\">Shipping Info</h4>\n//                             <p><b>Name:</b> {user && user.name}</p>\n//                             <p><b>Phone:</b> {shippingInfo && shippingInfo.phoneNo}</p>\n//                             <p className=\"mb-4\"><b>Address:</b>{shippingDetails}</p>\n//                             <p><b>Amount:</b> ${totalPrice}</p>\n//                             <hr />\n//                             <h4 className=\"my-4\">Payment</h4>\n//                             <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \"PAID\" : \"NOT PAID\"}</b></p>\n//                             <h4 className=\"my-4\">Order Status:</h4>\n//                             <p className={order.orderStatus && String(order.orderStatus).includes('Delivered') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\n//                             <h4 className=\"my-4\">Order Items:</h4>\n//                             <hr />\n//                             <div className=\"cart-item my-1\">\n//                                 {orderItems && orderItems.map(item => (\n//                                     <div key={item.product} className=\"row my-5\">\n//                                         <div className=\"col-4 col-lg-2\">\n//                                             <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\n//                                         </div>\n//                                         <div className=\"col-5 col-lg-5\">\n//                                             <Link to={`/products/${item.product}`}>{item.name}</Link>\n//                                         </div>\n//                                         <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n//                                             <p>${item.price}</p>\n//                                         </div>\n//                                         <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n//                                             <p>{item.quantity} Piece(s)</p>\n//                                         </div>\n//                                     </div>\n//                                 ))}\n//                             </div>\n//                             <hr />\n//                         </div>\n//                     </div>\n//                 </Fragment>\n//             )}\n//         </Fragment>\n//     ) \n// }\n// export default OrderDetails","map":{"version":3,"names":["React","Fragment","useEffect","Link","MetaData","Loader","useAlert","useDispatch","useSelector","getOrderDetails","clearErrors","OrderDetails","match","state","orderDetails","loading","error","order","alert","dispatch","shippingInfo","orderItems","paymentInfo","user","totalPrice","orderStatus","params","id","shippingDetails","address","city","postalCode","country","isPaid","status","_id","name","phoneNo","String","includes","map","item","image","product","price","quantity"],"sources":["/home/ibm/shopit/frontend/src/components/order/OrderDetails.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport MetaData from '../layouts/MetaData'\nimport Loader from '../layouts/Loader'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getOrderDetails, clearErrors } from '../../actions/orderActions'\n\n\n const OrderDetails=({match})=>{\n\n    const { loading, error, order ={}} = useSelector(state => state.orderDetails)\n         const alert = useAlert();\n    const dispatch = useDispatch();\n    const { shippingInfo,orderItems,paymentInfo,user,totalPrice,orderStatus } = order \n\n     useEffect(() => {\n        dispatch(getOrderDetails(match.params.id));\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors())\n        }\n    }, [dispatch, alert, error, match.params.id])\n\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`\n\n        const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\n    \n\n    return (\n                <Fragment>\n                    <MetaData title={'Order Details'} />\n        \n                    {loading ? <Loader /> : (\n                        <Fragment>\n                            <div className=\"row d-flex justify-content-between\">\n                                <div className=\"col-12 col-lg-8 mt-5 order-details\">\n        \n                                    <h1 className=\"my-5\">Order # {order._id}</h1>\n        \n                                    <h4 className=\"mb-4\">Shipping Info</h4>\n                                    <p><b>Name:</b> {user && user.name}</p>\n                                    <p><b>Phone:</b> {shippingInfo && shippingInfo.phoneNo}</p>\n                                    <p className=\"mb-4\"><b>Address:</b>{shippingDetails}</p>\n                                    <p><b>Amount:</b> ${totalPrice}</p>\n        \n                                    <hr />\n        \n                                    <h4 className=\"my-4\">Payment</h4>\n                                    <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \"PAID\" : \"NOT PAID\"}</b></p>\n        \n        \n                                    <h4 className=\"my-4\">Order Status:</h4>\n                                    <p className={order.orderStatus && String(order.orderStatus).includes('Delivered') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\n        \n        \n                                    <h4 className=\"my-4\">Order Items:</h4>\n        \n                                    <hr />\n                                    <div className=\"cart-item my-1\">\n                                        {orderItems && orderItems.map(item => (\n                                            <div key={item.product} className=\"row my-5\">\n                                                <div className=\"col-4 col-lg-2\">\n                                                    <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\n                                                </div>\n        \n                                                <div className=\"col-5 col-lg-5\">\n                                                    <Link to={`/products/${item.product}`}>{item.name}</Link>\n                                                </div>\n        \n        \n                                                <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                                                    <p>${item.price}</p>\n                                                </div>\n        \n                                                <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                                                    <p>{item.quantity} Piece(s)</p>\n                                                </div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                    <hr />\n                                </div>\n                            </div>\n                        </Fragment>\n                    )} \n        \n                </Fragment>\n            ) \n    \n}\nexport default OrderDetails\n// const OrderDetails = ({ match }) => {\n \n\n//     const { loading, error, order } = useSelector(state => state.orderDetails)\n//     console.log(\">>>>.\",order)\n//     // const { paymentInfo, user, totalPrice, orderStatus } = order;\n//    \n\n    // useEffect(() => {\n    //     dispatch(getOrderDetails(match.params.id));\n\n    //     if (error) {\n    //         alert.error(error);\n    //         dispatch(clearErrors())\n    //     }\n    // }, [dispatch, alert, error, match.params.id])\n\n//    \n//     return (\n//         <Fragment>\n//             <MetaData title={'Order Details'} />\n\n//             {loading ? <Loader /> : (\n//                 <Fragment>\n//                     <div className=\"row d-flex justify-content-between\">\n//                         <div className=\"col-12 col-lg-8 mt-5 order-details\">\n\n//                             <h1 className=\"my-5\">Order # {order._id}</h1>\n\n//                             <h4 className=\"mb-4\">Shipping Info</h4>\n//                             <p><b>Name:</b> {user && user.name}</p>\n//                             <p><b>Phone:</b> {shippingInfo && shippingInfo.phoneNo}</p>\n//                             <p className=\"mb-4\"><b>Address:</b>{shippingDetails}</p>\n//                             <p><b>Amount:</b> ${totalPrice}</p>\n\n//                             <hr />\n\n//                             <h4 className=\"my-4\">Payment</h4>\n//                             <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \"PAID\" : \"NOT PAID\"}</b></p>\n\n\n//                             <h4 className=\"my-4\">Order Status:</h4>\n//                             <p className={order.orderStatus && String(order.orderStatus).includes('Delivered') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\n\n\n//                             <h4 className=\"my-4\">Order Items:</h4>\n\n//                             <hr />\n//                             <div className=\"cart-item my-1\">\n//                                 {orderItems && orderItems.map(item => (\n//                                     <div key={item.product} className=\"row my-5\">\n//                                         <div className=\"col-4 col-lg-2\">\n//                                             <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\n//                                         </div>\n\n//                                         <div className=\"col-5 col-lg-5\">\n//                                             <Link to={`/products/${item.product}`}>{item.name}</Link>\n//                                         </div>\n\n\n//                                         <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n//                                             <p>${item.price}</p>\n//                                         </div>\n\n//                                         <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n//                                             <p>{item.quantity} Piece(s)</p>\n//                                         </div>\n//                                     </div>\n//                                 ))}\n//                             </div>\n//                             <hr />\n//                         </div>\n//                     </div>\n//                 </Fragment>\n//             )}\n\n//         </Fragment>\n//     ) \n// }\n\n// export default OrderDetails\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}