{"ast":null,"code":"import _regeneratorRuntime from\"/home/ibm/shopit/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ibm/shopit/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{ADD_TO_CART,REMOVE_ITEM_CART,SAVE_SHIPPING_INFO}from\"../constants/cartConstant\";export var addItemToCart=function addItemToCart(id,quantity){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/v1/product/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(\"data\",data);dispatch({type:ADD_TO_CART,payload:{product:data.product._id,name:data.product.name,price:data.product.price,image:data.product.images[0].url,stock:data.product.stock,quantity:quantity}});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeItemFromCart=function removeItemFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,getState){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// const {data} = await axios.get(`/api/v1/product/${id}`)\n// console.log(\"data\",data)\ndispatch({type:REMOVE_ITEM_CART,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var saveShippingInfo=function saveShippingInfo(data){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:SAVE_SHIPPING_INFO,payload:data});localStorage.setItem('shippingInfo',JSON.stringify(data));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","addItemToCart","id","quantity","dispatch","getState","get","data","console","log","type","payload","product","_id","name","price","image","images","url","stock","localStorage","setItem","JSON","stringify","cart","cartItems","removeItemFromCart","saveShippingInfo"],"sources":["/home/ibm/shopit/frontend/src/actions/cartActions.js"],"sourcesContent":["import axios from 'axios'\n\nimport { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO } from \"../constants/cartConstant\";\n\n\nexport const addItemToCart = (id,quantity) =>async(dispatch,getState)=>{\n    const {data} = await axios.get(`/api/v1/product/${id}`)\n    console.log(\"data\",data)\n\n\n    dispatch({\n        type : ADD_TO_CART,\n        payload : {\n            product : data.product._id,\n            name : data.product.name,\n            price: data.product.price,\n            image : data.product.images[0].url,\n            stock : data.product.stock,\n            quantity \n        }\n    })\n\n    localStorage.setItem('cartItems' , JSON.stringify(getState().cart.cartItems))\n\n}\n\n\n\nexport const removeItemFromCart = (id) =>async(dispatch,getState)=>{\n    // const {data} = await axios.get(`/api/v1/product/${id}`)\n    // console.log(\"data\",data)\n\n\n    dispatch({\n        type : REMOVE_ITEM_CART,\n        payload : id\n    })\n\n    localStorage.setItem('cartItems' , JSON.stringify(getState().cart.cartItems))\n\n}\n\n\nexport const saveShippingInfo = (data) => async (dispatch) => {\n\n    dispatch({\n        type: SAVE_SHIPPING_INFO,\n        payload: data\n    })\n\n    localStorage.setItem('shippingInfo', JSON.stringify(data))\n\n}"],"mappings":"8OAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,WAAT,CAAsBC,gBAAtB,CAAwCC,kBAAxC,KAAkE,2BAAlE,CAGA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,EAAD,CAAIC,QAAJ,mGAAgB,iBAAMC,QAAN,CAAeC,QAAf,oKACpBR,MAAK,CAACS,GAAN,2BAA6BJ,EAA7B,EADoB,uCAClCK,IADkC,kBAClCA,IADkC,CAEzCC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAmBF,IAAnB,EAGAH,QAAQ,CAAC,CACLM,IAAI,CAAGZ,WADF,CAELa,OAAO,CAAG,CACNC,OAAO,CAAGL,IAAI,CAACK,OAAL,CAAaC,GADjB,CAENC,IAAI,CAAGP,IAAI,CAACK,OAAL,CAAaE,IAFd,CAGNC,KAAK,CAAER,IAAI,CAACK,OAAL,CAAaG,KAHd,CAINC,KAAK,CAAGT,IAAI,CAACK,OAAL,CAAaK,MAAb,CAAoB,CAApB,EAAuBC,GAJzB,CAKNC,KAAK,CAAGZ,IAAI,CAACK,OAAL,CAAaO,KALf,CAMNhB,QAAQ,CAARA,QANM,CAFL,CAAD,CAAR,CAYAiB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAmCC,IAAI,CAACC,SAAL,CAAelB,QAAQ,GAAGmB,IAAX,CAAgBC,SAA/B,CAAnC,EAjByC,sDAAhB,oEAAtB,CAuBP,MAAO,IAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACxB,EAAD,oGAAO,kBAAME,QAAN,CAAeC,QAAf,wHACrC;AACA;AAGAD,QAAQ,CAAC,CACLM,IAAI,CAAGX,gBADF,CAELY,OAAO,CAAGT,EAFL,CAAD,CAAR,CAKAkB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAmCC,IAAI,CAACC,SAAL,CAAelB,QAAQ,GAAGmB,IAAX,CAAgBC,SAA/B,CAAnC,EAVqC,wDAAP,sEAA3B,CAeP,MAAO,IAAME,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACpB,IAAD,oGAAU,kBAAOH,QAAP,wHAEtCA,QAAQ,CAAC,CACLM,IAAI,CAAEV,kBADD,CAELW,OAAO,CAAEJ,IAFJ,CAAD,CAAR,CAKAa,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqCC,IAAI,CAACC,SAAL,CAAehB,IAAf,CAArC,EAPsC,wDAAV,kEAAzB"},"metadata":{},"sourceType":"module"}