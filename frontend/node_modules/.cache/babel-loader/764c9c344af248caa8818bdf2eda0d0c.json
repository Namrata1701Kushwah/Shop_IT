{"ast":null,"code":"import'../../App.css';import{Link,Route,Router}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useAlert}from\"react-alert\";import{Fragment}from\"react\";import Search from'./Search';import{logout}from'../../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(){var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,loading=_useSelector.loading;var _useSelector2=useSelector(function(state){return state.cart;}),cartItems=_useSelector2.cartItems;var logoutHandler=function logoutHandler(){dispatch(logout());alert.success('Logged out successfully');};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-brand\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/shopit_logo.png\",alt:\"icon\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 mt-2 mt-md-0\",children:/*#__PURE__*/_jsx(Route,{render:function render(_ref){var history=_ref.history;return/*#__PURE__*/_jsx(Search,{history:history});}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-3 mt-4 mt-md-0 text-center\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",style:{textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"span\",{id:\"cart\",className:\"ml-3\",children:\"Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",id:\"cart_count\",children:cartItems.length})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 dropdown d-inline\",children:[/*#__PURE__*/_jsx(Link,{to:\"#!\",className:\"btn dropdown-toggle text-white mr-4 mt-3\",type:\"button\",id:\"dropDownMenuButton\",\"data-toggle\":\"dropdown\",\"area-aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsxs(\"figure\",{className:\"avatar.avatar-nav\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.avatar&&user.avatar.url,alt:user&&user.name,className:\"rounded-circle\"}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"12px\"},children:user&&user.name})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropDownMenuButton\",children:[user&&user.role==='admin'&&/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/dashboard\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/orders/me\",children:\"Orders\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/me\",children:\"Profile\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item  text-danger\",to:\"/\",onClick:logoutHandler,children:\"Logout\"})]})]}):!loading&&/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn ml-4\",id:\"login_btn\",children:\"Login\"})]})]})});};export default Header;","map":{"version":3,"names":["Link","Route","Router","useDispatch","useSelector","useAlert","Fragment","Search","logout","Header","alert","dispatch","state","auth","user","loading","cart","cartItems","logoutHandler","success","history","textDecoration","length","avatar","url","name","marginLeft","role"],"sources":["/home/ibm/shopit/frontend/src/components/layouts/Header.js"],"sourcesContent":["import '../../App.css'\nimport { Link, Route, Router } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useAlert } from \"react-alert\"\n\nimport { Fragment } from \"react\";\nimport Search from './Search';\n\nimport { logout } from '../../actions/userActions';\n\nconst Header = () => {\n    const alert = useAlert();\n    const dispatch = useDispatch()\n\n    const { user, loading } = useSelector(state => state.auth)\n    const {cartItems}= useSelector(state=>state.cart)\n\n    const logoutHandler =()=>{\n            dispatch(logout());\n            alert.success('Logged out successfully')\n    }\n\n    return (\n        <Fragment>\n            <nav className=\"navbar row\">\n                <div className=\"col-12 col-md-3\">\n                    <div className=\"navbar-brand\">\n                        <Link to=\"/\">\n                            <img src=\"/images/shopit_logo.png\" alt=\"icon\" />\n                        </Link>\n\n                    </div>\n                </div>\n\n                <div className=\"col-12 col-md-6 mt-2 mt-md-0\">\n                    <Route render={({ history }) => <Search history={history} />} />\n\n                </div>\n\n                <div className=\"col-12 col-md-3 mt-4 mt-md-0 text-center\">\n                    <Link to=\"/cart\" style={{ textDecoration: 'none' }}>\n                        <span id=\"cart\" className=\"ml-3\">Cart</span>\n                        <span className=\"ml-1\" id=\"cart_count\">{cartItems.length}</span>\n                    </Link>\n\n                    {user ? (\n                        <div className='ml-4 dropdown d-inline'>\n                            <Link to=\"#!\" className='btn dropdown-toggle text-white mr-4 mt-3'\n                                type=\"button\" id=\"dropDownMenuButton\" data-toggle='dropdown'\n                                area-aria-haspopup=\"true\" aria-expanded=\"false\">\n\n                                <figure className=\"avatar.avatar-nav\">\n                                    <img src={user.avatar && user.avatar.url} \n                                        alt={user && user.name}\n                                        className=\"rounded-circle\"\n                                    /><span  style ={{marginLeft:\"12px\"}}>{user && user.name}</span>\n                                </figure>\n\n                                \n                            </Link>\n\n                            <div className='dropdown-menu'  aria-labelledby='dropDownMenuButton'>\n                                {user && user.role === 'admin' && (\n                                    <Link  className='dropdown-item' to=\"/dashboard\">Dashboard</Link>\n                                ) }\n                                  <Link className='dropdown-item' to=\"/orders/me\">Orders</Link>\n                                 <Link className='dropdown-item' to=\"/me\">Profile</Link>\n                                <Link className='dropdown-item  text-danger' to=\"/\" onClick={logoutHandler}>\n                                    Logout\n                                </Link>\n\n                        </div>\n                        </div>\n\n                    ) : !loading && <Link to=\"/login\" className=\"btn ml-4\" id=\"login_btn\">Login</Link>\n                    }\n\n\n                </div>\n            </nav>\n       </Fragment>\n    )\n\n}\n\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module"}