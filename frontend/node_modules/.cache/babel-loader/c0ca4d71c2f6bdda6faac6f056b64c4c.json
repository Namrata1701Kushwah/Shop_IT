{"ast":null,"code":"import{Fragment,useEffect}from\"react\";import{Link}from\"react-router-dom\";import Sidebar from\"./Sidebar\";import{getAdminProducts}from'../../actions/productActions';import{allOrders}from\"../../actions/orderActions\";import{useDispatch,useSelector}from'react-redux';import Loader from\"../layouts/Loader\";import MetaData from\"../layouts/MetaData\";import{allUsers}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _products$products,_products$products2;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products;var _useSelector2=useSelector(function(state){return state.allUsers;}),users=_useSelector2.users;var _useSelector3=useSelector(function(state){return state.allOrders;}),orders=_useSelector3.orders,totalAmount=_useSelector3.totalAmount,loading=_useSelector3.loading;useEffect(function(){dispatch(getAdminProducts());dispatch(allOrders());dispatch(allUsers());},[dispatch]);var outOfStock=0;products===null||products===void 0?void 0:(_products$products=products.products)===null||_products$products===void 0?void 0:_products$products.forEach(function(product){if(product.stock===0){outOfStock+=1;}});return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[\"'\",/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-md-2\",children:/*#__PURE__*/_jsx(Sidebar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-9 col-md-18\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-9\",children:\"Dashboard\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Admin Dashboard'}),/*#__PURE__*/_jsx(\"div\",{className:\"row pr-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-sm-12 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-primary o-hidden h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"Total Amount\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",totalAmount&&totalAmount.toFixed(2)]})]})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row pr-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-success o-hidden h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"Products\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:(products===null||products===void 0?void 0:products.products)&&(products===null||products===void 0?void 0:(_products$products2=products.products)===null||_products$products2===void 0?void 0:_products$products2.length)})]})}),/*#__PURE__*/_jsxs(Link,{className:\"card-footer text-white clearfix small z-1\",to:\"/admin/products\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"float-left\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-danger o-hidden h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"Orders\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:orders&&(orders===null||orders===void 0?void 0:orders.length)})]})}),/*#__PURE__*/_jsxs(Link,{className:\"card-footer text-white clearfix small z-1\",to:\"/admin/orders\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"float-left\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-info o-hidden h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"Users\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:users&&users.length})]})}),/*#__PURE__*/_jsxs(Link,{className:\"card-footer text-white clearfix small z-1\",href:\"/admin/users\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"float-left\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-warning o-hidden h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"Out of Stock\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:outOfStock})]})})})})]})]})]})]})});};export default Dashboard;","map":{"version":3,"names":["Fragment","useEffect","Link","Sidebar","getAdminProducts","allOrders","useDispatch","useSelector","Loader","MetaData","allUsers","Dashboard","dispatch","state","products","users","orders","totalAmount","loading","outOfStock","forEach","product","stock","toFixed","length"],"sources":["/home/ibm/shopit/frontend/src/components/admin/Dashboard.js"],"sourcesContent":["import { Fragment, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Sidebar from \"./Sidebar\";\nimport { getAdminProducts } from '../../actions/productActions';\nimport { allOrders } from \"../../actions/orderActions\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport Loader from \"../layouts/Loader\";\nimport MetaData from \"../layouts/MetaData\";\nimport { allUsers } from \"../../actions/userActions\";\n\nconst Dashboard = () => {\n\n    const dispatch = useDispatch();\n\n    const {products} = useSelector(state=>state.products)\n    const {users} = useSelector(state=>state.allUsers)\n    const {orders, totalAmount, loading} = useSelector(state=>state.allOrders)\n    useEffect(()=>{\n          dispatch(getAdminProducts())\n          dispatch(allOrders())\n          dispatch(allUsers())\n    },[dispatch])\n\n    let outOfStock = 0;\n\n    products?.products?.forEach(product => {\n        if(product.stock === 0){\n             outOfStock +=1;\n        }\n    });\n    return (\n        <Fragment>\n            <div className=\"row\">'\n                <div className=\"col-5 col-md-2\">\n\n                    <Sidebar />\n                </div>\n                <div className=\"col-9 col-md-18\">\n                    <h1 className=\"my-9\">Dashboard</h1>\n                    {loading ? <Loader/> : (\n                        <Fragment>\n                            <MetaData title={'Admin Dashboard'}/>\n                            <div className=\"row pr-4\">\n                        <div className=\"col-xl-12 col-sm-12 mb-3\">\n                            <div className=\"card text-white bg-primary o-hidden h-100\">\n                                <div className=\"card-body\">\n                                    <div className=\"text-center card-font-size\">Total Amount<br /> <b>${totalAmount && totalAmount.toFixed(2)}</b>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"row pr-4\">\n                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                            <div className=\"card text-white bg-success o-hidden h-100\">\n                                <div className=\"card-body\">\n                                    <div className=\"text-center card-font-size\">Products<br /> <b>{products?.products && products?.products?.length}</b></div>\n                                </div>\n                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/products\">\n                                    <span className=\"float-left\">View Details</span>\n                                    <span className=\"float-right\">\n                                        <i className=\"fa fa-angle-right\"></i>\n                                    </span>\n                                </Link>\n                            </div>\n                        </div>\n\n\n                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                            <div className=\"card text-white bg-danger o-hidden h-100\">\n                                <div className=\"card-body\">\n                                    <div className=\"text-center card-font-size\">Orders<br /> <b>{orders && orders?.length}</b></div>\n                                </div>\n                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/orders\">\n                                    <span className=\"float-left\">View Details</span>\n                                    <span className=\"float-right\">\n                                        <i className=\"fa fa-angle-right\"></i>\n                                    </span>\n                                </Link>\n                            </div>\n                        </div>\n\n\n                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                            <div className=\"card text-white bg-info o-hidden h-100\">\n                                <div className=\"card-body\">\n                                    <div className=\"text-center card-font-size\">Users<br /> <b>{users && users.length}</b></div>\n                                </div>\n                                <Link className=\"card-footer text-white clearfix small z-1\" href=\"/admin/users\">\n                                    <span className=\"float-left\">View Details</span>\n                                    <span className=\"float-right\">\n                                        <i className=\"fa fa-angle-right\"></i>\n                                    </span>\n                                </Link>\n                            </div>\n                        </div>\n\n\n                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                            <div className=\"card text-white bg-warning o-hidden h-100\">\n                                <div className=\"card-body\">\n                                    <div className=\"text-center card-font-size\">Out of Stock<br /> <b>{outOfStock}</b></div>\n                                </div>\n                            </div>\n                        </div>\n                        </div>\n                        </Fragment>\n                    )}\n                  \n                    </div>\n                </div>\n            \n\n        </Fragment>\n    )\n}\n\n\nexport default Dashboard; "],"mappings":"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"},"metadata":{},"sourceType":"module"}