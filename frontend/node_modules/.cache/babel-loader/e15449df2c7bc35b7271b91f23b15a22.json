{"ast":null,"code":"import _slicedToArray from\"/home/ibm/shopit/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useEffect,useState}from\"react\";import MetaData from\"./layouts/MetaData\";import Product from\"./product/Product\";import Pagination from\"react-js-pagination\";// import ReactPaginate from 'react-paginate';\nimport{useDispatch,useSelector}from'react-redux';import{getProducts}from\"../actions/productActions\";import{useAlert}from\"react-alert\";import Slider from'rc-slider';import'rc-slider/assets/index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var createSliderWithTooltip=Slider.createSliderWithTooltip;var Range=createSliderWithTooltip(Slider.Range);var Home=function Home(_ref){var _ref2;var match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([1,1000]),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];console.log(\"999999999999999999999999\",category);var categories=[\"Electronics\",\"Cameras\",\"Laptops\",\"Accessories\",\"Headphones\",\"Food\",\"Books\",\"Clothes/Shoes\",\"Beauty/Health\",\"Sports\",\"Outdoor\",\"Home\"];// console.log(currentPage)\nvar alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.products;}),loading=_useSelector.loading,products=_useSelector.products,error=_useSelector.error,resPerPage=_useSelector.resPerPage,productsCount=_useSelector.productsCount,filteredProductsCount=_useSelector.filteredProductsCount;var keyword=match.params.keyword;useEffect(function(){if(error){return alert.error(error);}dispatch(getProducts(keyword,currentPage,price,category,rating));console.log(\"3444444444444444\",price);},[dispatch,alert,error,currentPage,keyword,price,category,rating]);var setCurrentPageNo=function setCurrentPageNo(PageNumber){setCurrentPage(PageNumber);};var count=productsCount;if(keyword){count=filteredProductsCount;}return/*#__PURE__*/_jsxs(Fragment,{children:[\" \",loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Buy Best Products Online'}),/*#__PURE__*/_jsx(\"h1\",{id:\"products_heading\",children:\"Latest Products\"}),/*#__PURE__*/_jsx(\"section\",{id:\"products\",className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:keyword?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-3 mt-5 mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-5\",children:[/*#__PURE__*/_jsx(Range,{marks:{1:\"$1\",1000:\"$1000\"},min:1,max:1000,defaultValue:[1,1000],tipFormatter:function tipFormatter(value){return\"$\".concat(value);},tipProps:{placement:\"top\",visible:true},value:price,onChange:function onChange(price){return setPrice(price);}}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pl-0\",children:categories===null||categories===void 0?void 0:categories.map(function(category){return/*#__PURE__*/_jsx(\"li\",{style:{cursor:'pointer',listStyleType:'none'},onClick:function onClick(){return setCategory(category);},children:category},category);})})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Ratings\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pl-0\",children:(_ref2=[5,4,3,2,1])===null||_ref2===void 0?void 0:_ref2.map(function(star){return/*#__PURE__*/_jsx(\"li\",{style:{cursor:'pointer',listStyleType:'none'},onClick:function onClick(){return setRating(star);},children:/*#__PURE__*/_jsx(\"div\",{className:\"rating-outer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rating-inner\",style:{width:\"\".concat(star*20,\"%\")}})})},star);})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products===null||products===void 0?void 0:products.map(function(product){return/*#__PURE__*/_jsx(Product,{product:product,col:4},product===null||product===void 0?void 0:product._id);})})})]}):products===null||products===void 0?void 0:products.map(function(product){return/*#__PURE__*/_jsx(Product,{product:product},product===null||product===void 0?void 0:product._id);})})}),resPerPage<=count&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-5\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:'Next',prevPageText:'Prev',firstPageText:'First',lastPageText:'Last',itemClass:\"page-item\",linkClass:\"page-link\"})})]})]});};export default Home;","map":{"version":3,"names":["Fragment","useEffect","useState","MetaData","Product","Pagination","useDispatch","useSelector","getProducts","useAlert","Slider","createSliderWithTooltip","Range","Home","match","currentPage","setCurrentPage","price","setPrice","category","setCategory","rating","setRating","console","log","categories","alert","dispatch","state","products","loading","error","resPerPage","productsCount","filteredProductsCount","keyword","params","setCurrentPageNo","PageNumber","count","value","placement","visible","map","cursor","listStyleType","star","width","product","_id"],"sources":["/home/ibm/shopit/frontend/src/components/Home.js"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\nimport MetaData from \"./layouts/MetaData\";\nimport Product from \"./product/Product\";\nimport Pagination from \"react-js-pagination\";\n// import ReactPaginate from 'react-paginate';\n\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getProducts } from \"../actions/productActions\";\nimport { useAlert } from \"react-alert\";\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nconst { createSliderWithTooltip } = Slider;\nconst Range = createSliderWithTooltip(Slider.Range)\nconst Home = ({ match }) => {\n    const [currentPage, setCurrentPage] = useState(1)\n    const [price, setPrice] = useState([1, 1000])\n    const [category, setCategory] = useState('')\n    const [rating, setRating] = useState(0)\n    console.log(\"999999999999999999999999\", category)\n\n    const categories = [\n        \"Electronics\",\n        \"Cameras\",\n        \"Laptops\",\n        \"Accessories\",\n        \"Headphones\",\n        \"Food\",\n        \"Books\",\n        \"Clothes/Shoes\",\n        \"Beauty/Health\",\n        \"Sports\",\n        \"Outdoor\",\n        \"Home\",\n    ]\n\n\n\n\n    // console.log(currentPage)\n    const alert = useAlert();\n    const dispatch = useDispatch();\n\n    const { loading, products, error, resPerPage, productsCount, filteredProductsCount } = useSelector(state => state.products)\n\n\n    const keyword = match.params.keyword\n\n\n    useEffect(() => {\n        if (error) {\n\n            return alert.error(error)\n        }\n        dispatch(getProducts(keyword, currentPage, price, category, rating));\n        console.log(\"3444444444444444\", price);\n\n\n    }, [dispatch, alert, error, currentPage, keyword, price, category, rating])\n\n\n    const setCurrentPageNo = (PageNumber) => {\n        setCurrentPage(PageNumber)\n    }\n\n    let count = productsCount;\n    if (keyword) {\n        count = filteredProductsCount\n    }\n\n\n    return (\n\n        <Fragment> {/*TODO*/}\n            {loading ? <h1>Loading...</h1> : (\n                <Fragment>\n\n                    <MetaData title={'Buy Best Products Online'} />\n                    <h1 id=\"products_heading\">Latest Products</h1>\n\n                    <section id=\"products\" className=\"container mt-5\">\n                        <div className=\"row\">\n\n                            {keyword ? (\n                                <Fragment>\n                                    <div className=\"col-6 col-md-3 mt-5 mb-5\">\n                                        <div className=\"px-5\" >\n                                            <Range\n                                                marks={{\n                                                    1: `$1`,\n                                                    1000: `$1000`\n                                                }}\n                                                min={1}\n                                                max={1000}\n                                                defaultValue={[1, 1000]}\n                                                tipFormatter={value => `$${value}`}\n                                                tipProps={{\n                                                    placement: \"top\",\n                                                    visible: true\n                                                }}\n                                                value={price}\n                                                onChange={price => setPrice(price)}\n                                            />\n\n                                            <hr className=\"my-3\" />\n                                            <div className=\"mt-5\">\n                                                <h4 className=\"mb-3\">\n                                                    categories\n                                                </h4>\n\n                                                <ul className=\"pl-0\">\n                                                    {categories?.map(category => (\n                                                        <li\n                                                            style={{\n                                                                cursor: 'pointer',\n                                                                listStyleType: 'none'\n                                                            }}\n                                                            key={category}\n                                                            onClick={() => setCategory(category)\n                                                            }\n                                                        >\n                                                            {category}\n                                                        </li>\n                                                    ))}\n                                                </ul>\n\n                                            </div>\n\n                                            <hr className=\"my-5\" />\n                                            <div className=\"mt-5\">\n                                                <h4 className=\"mb-3\">\n                                                    Ratings\n                                                </h4>\n\n                                                <ul className=\"pl-0\">\n                                                    {[5, 4, 3, 2, 1]?.map(star => (\n                                                        <li\n                                                            style={{\n                                                                cursor: 'pointer',\n                                                                listStyleType: 'none'\n                                                            }}\n                                                            key={star}\n                                                            onClick={() => setRating(star)\n                                                            }\n                                                        >\n                                                            <div className=\"rating-outer\">\n                                                                <div className=\"rating-inner\"\n                                                                    style={{\n                                                                        width: `${star * 20}%`\n                                                                    }}\n                                                                >\n\n                                                                </div>\n\n                                                            </div>\n                                                        </li>\n                                                    ))}\n                                                </ul>\n\n                                            </div>\n\n\n\n\n\n                                        </div>\n\n                                    </div>\n\n                                    <div className=\"col-6 col-md-9\">\n                                        <div className=\"row\">\n                                    \n                                            {products?.map(product => (\n                                                <Product key={product?._id} product={product} col={4} />\n                                            ))}\n                                        </div>\n\n                                    </div>\n                                </Fragment>\n                            ) : (\n                                products?.map(product => (\n                                    <Product key={product?._id} product={product} />\n                                ))\n\n\n                            )}\n\n\n\n\n\n                        </div>\n                    </section>\n                    {resPerPage <= count && (\n                        <div className=\"d-flex justify-content-center mt-5\">\n\n                            <Pagination\n\n                                activePage={currentPage}\n                                itemsCountPerPage={resPerPage}\n                                totalItemsCount={productsCount}\n                                onChange={setCurrentPageNo}\n                                nextPageText={'Next'}\n                                prevPageText={'Prev'}\n                                firstPageText={'First'}\n                                lastPageText={'Last'}\n                                itemClass=\"page-item\"\n                                linkClass=\"page-link\"\n                            />\n\n\n                        </div>\n                    )}\n\n\n                </Fragment>\n            )}\n\n        </Fragment>\n        \n    )\n}\n\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}